<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Home</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link href="img/HLogo.jpg" rel="icon">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link
            href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
            rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
          integrity="sha384-tViUnnbYAV00FLIhhi3v/dWt3Jxw4gZQcNoSCxCIFNJVCx7/D55/wXsrNIRANwdD" rel="stylesheet">

    <!-- Font Awesome -->
    <link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
          integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
          referrerpolicy="no-referrer" rel="stylesheet" />

    <!-- Swiper -->
    <link href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" rel="stylesheet" />

    <!-- AOS (Animate On Scroll) -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">

    <!-- Main CSS File -->
    <link href="nav.css" rel="stylesheet">

    <style>
        /* Main Content Styles */
        .main-content {
            padding-top: 100px;
            min-height: 100vh;
            background-color: #f8f9fa;
        }

        .welcome-section {
            background-color: #223b51;
            color: white;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .video-section {
            padding: 2rem 0;
        }

        .video-container {
            position: relative;
            margin-bottom: 2rem;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .video-container:hover {
            transform: translateY(-5px);
        }

        .video-lock-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            z-index: 10;
        }

        .video-lock-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .video-title {
            padding: 1rem;
            background-color: white;
            font-weight: 600;
        }

        .unlock-timer {
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        .plans-section {
            padding: 3rem 0;
            background-color: white;
        }

        .plan-card {
            border: none;
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        .plan-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .plan-header {
            background-color: #223b51;
            color: white;
            padding: 1.5rem;
            text-align: center;
        }

        .plan-body {
            padding: 2rem;
        }

        .plan-price {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 1rem 0;
        }

        .plan-features {
            list-style-type: none;
            padding: 0;
        }

        .plan-features li {
            padding: 0.5rem 0;
            border-bottom: 1px solid #eee;
        }

        .btn-plan {
            background-color: #fdc134;
            color: #223b51;
            border: none;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            width: 100%;
            margin-top: 1rem;
        }

        .btn-plan:hover {
            background-color: #e0a82a;
            color: #223b51;
        }

        .video-embed {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            overflow: hidden;
        }

        .video-embed iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>

<body class="home-page">
<!-- Header -->
<header class="header d-flex align-items-center fixed-top" id="header">
    <div class="container-fluid container-xl position-relative d-flex align-items-center">
        <a class="logo d-flex align-items-center me-auto" href="index.html">
            <h1 class="sitename">HabitUP</h1>
            <span>.</span>
        </a>
        <nav class="navmenu" id="navmenu">
            <ul>
                <li><a class="active" href="#hero">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#featured-services">Services</a></li>
                <li><a href="#team">Team</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
        </nav>
        <div class="dropdown ms-3">
            <img src="img/SwastikTeam.png" alt="Profile" class="profile-img dropdown-toggle" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
                <li><a class="dropdown-item" href="profile.html"><i class="bi bi-person me-2"></i>Profile</a></li>
                <li><a class="dropdown-item" href="dashboard.html"><i class="bi bi-speedometer2 me-2"></i>Dashboard</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" href="#" id="logoutBtn"><i class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
            </ul>
        </div>
    </div>
</header>

<main class="main-content">
    <div class="container">
        <!-- Welcome Section -->
        <section class="welcome-section" id="welcome">
            <h2 id="welcomeMessage">Welcome back, User!</h2>
            <p>Continue your habit-building journey with our curated video content.</p>
            <div id="nextUnlockTimer" class="mt-3 p-2 bg-light text-dark rounded d-inline-block">
                Next video unlocks in: <span id="timerDisplay">24:00:00</span>
            </div>
        </section>

        <!-- Video Section -->
        <section class="video-section" id="videos">
            <h3 class="mb-4">Your Habit Building Videos</h3>
            <div class="row" id="videoGrid">
                <!-- Videos will be dynamically inserted here -->
            </div>
        </section>

        <!-- Plans Section -->
        <section class="plans-section" id="plans">
            <div class="text-center mb-5">
                <h3>Upgrade Your Experience</h3>
                <p class="lead">Choose the plan that works best for you</p>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="plan-card">
                        <div class="plan-header">
                            <h4>Basic</h4>
                        </div>
                        <div class="plan-body">
                            <div class="plan-price">$9.99<span class="text-muted">/month</span></div>
                            <ul class="plan-features">
                                <li>Access to first 5 videos</li>
                                <li>Basic habit tracking</li>
                                <li>Email support</li>
                                <li>Community access</li>
                            </ul>
                            <button class="btn btn-plan">Get Started</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="plan-card">
                        <div class="plan-header">
                            <h4>Regular</h4>
                        </div>
                        <div class="plan-body">
                            <div class="plan-price">$19.99<span class="text-muted">/month</span></div>
                            <ul class="plan-features">
                                <li>Access to all videos</li>
                                <li>Advanced habit tracking</li>
                                <li>Priority email support</li>
                                <li>Weekly progress reports</li>
                            </ul>
                            <button class="btn btn-plan">Get Started</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="plan-card">
                        <div class="plan-header bg-warning">
                            <h4>Premium</h4>
                        </div>
                        <div class="plan-body">
                            <div class="plan-price">$29.99<span class="text-muted">/month</span></div>
                            <ul class="plan-features">
                                <li>Access to all videos + bonus content</li>
                                <li>Premium habit tracking</li>
                                <li>24/7 priority support</li>
                                <li>Personal coach access</li>
                                <li>Custom habit plans</li>
                            </ul>
                            <button class="btn btn-plan">Get Started</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</main>

<!-- Footer -->
<footer class="footer dark-background" id="footer">
    <div class="container">
        <h3 class="sitename">HabitUP</h3>
        <p>Your personalized path to better habits</p>
        <div class="social-links d-flex justify-content-center">
            <a href=""><i class="bi bi-twitter-x"></i></a>
            <a href=""><i class="bi bi-facebook"></i></a>
            <a href=""><i class="bi bi-instagram"></i></a>
            <a href=""><i class="bi bi-skype"></i></a>
            <a href=""><i class="bi bi-linkedin"></i></a>
        </div>
        <div class="copyright">
            <span>Copyright</span> <strong class="px-1 sitename">&copy; HabitUP</strong> <span>All Rights
                    Reserved</span>
        </div>
        <div class="credits">
            Designed by <a href="#">FullStackFlair</a>
        </div>
    </div>
</footer>

<!-- Scroll Top -->
<a class="scroll-top d-flex align-items-center justify-content-center" href="#" id="scroll-top"><i
        class="bi bi-arrow-up-short"></i></a>

<!-- PreLoader -->
<div id="preloader"></div>

<!-- Vendor JS Files -->
<script crossorigin="anonymous" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
<script>
    AOS.init();
</script>
<script crossorigin="anonymous"
        integrity="sha512-kfs3Dt9u9YcOiIt4rNcPUzdyNNO9sVGQPiZsub7ywg6lRW5KuK1m145ImrFHe3LMWXHndoKo2YRXWy8rnOcSKg=="
        referrerpolicy="no-referrer"
        src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/5.0.0/imagesloaded.pkgd.min.js"></script>
<script crossorigin="anonymous"
        integrity="sha512-Zq2BOxyhvnRFXu0+WE6ojpZLOU2jdnqbrM1hmVdGzyeCa1DgM3X5Q4A/Is9xA1IkbUeDd7755dNNI/PzSf2Pew=="
        referrerpolicy="no-referrer"
        src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js"></script>

<!-- Main JS File -->
<script src="main.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function() {

  if (!localStorage.getItem('token')) {
    window.location.href = 'index.html';
  }
        // Get user name from localStorage
        const userName = localStorage.getItem('name') || 'User';
        document.getElementById('welcomeMessage').textContent = `Welcome back, ${userName}!`;

         // Logout functionality
        document.getElementById('logoutBtn').addEventListener('click', function() {
            localStorage.removeItem('name');
            localStorage.removeItem('token');
            localStorage.removeItem('userId');
            localStorage.removeItem('email');
            localStorage.removeItem('joinDate');
            localStorage.removeItem('dob');
            localStorage.removeItem('phoneNo');
            localStorage.removeItem('accountStatus');
            localStorage.removeItem('subscriptionType');
            localStorage.removeItem('profilePhoto');
            localStorage.removeItem('userType');
            localStorage.removeItem('gender');
            window.location.href = 'index.html';
        });

        // Video data - replace with your actual Google Drive embed links
        const videoData = [
            { id: 1, title: "Introduction to Habit Building", embedUrl: "https://drive.google.com/file/d/VIDEO_ID_1/preview", locked: false },
            { id: 2, title: "The Science of Habits", embedUrl: "https://drive.google.com/file/d/VIDEO_ID_2/preview", locked: true },
            { id: 3, title: "Setting Habit Goals", embedUrl: "https://drive.google.com/file/d/VIDEO_ID_3/preview", locked: true },
            { id: 4, title: "Habit Tracking Methods", embedUrl: "https://drive.google.com/file/d/VIDEO_ID_4/preview", locked: true },
            { id: 5, title: "Overcoming Obstacles", embedUrl: "https://drive.google.com/file/d/VIDEO_ID_5/preview", locked: true },
            { id: 6, title: "Advanced Techniques", embedUrl: "https://drive.google.com/file/d/VIDEO_ID_6/preview", locked: true },
            { id: 7, title: "Habit Stacking", embedUrl: "https://drive.google.com/file/d/VIDEO_ID_7/preview", locked: true },
            { id: 8, title: "Mindset Shifts", embedUrl: "https://drive.google.com/file/d/VIDEO_ID_8/preview", locked: true },
            { id: 9, title: "Productivity Habits", embedUrl: "https://drive.google.com/file/d/VIDEO_ID_9/preview", locked: true },
            { id: 10, title: "Health & Wellness Habits", embedUrl: "https://drive.google.com/file/d/VIDEO_ID_10/preview", locked: true },
            { id: 11, title: "Maintaining Long-Term Habits", embedUrl: "https://drive.google.com/file/d/VIDEO_ID_11/preview", locked: true }
        ];

        // Check localStorage for unlocked videos
        const unlockedVideos = JSON.parse(localStorage.getItem('unlockedVideos')) || [1];
        const lastWatchedTime = localStorage.getItem('lastWatchedTime') || Date.now();

        // Update video locked status based on unlockedVideos
        videoData.forEach(video => {
            video.locked = !unlockedVideos.includes(video.id);
        });

        // Render videos
        const videoGrid = document.getElementById('videoGrid');
        videoData.forEach(video => {
            const videoCol = document.createElement('div');
            videoCol.className = 'col-md-6 col-lg-4';

            const videoContainer = document.createElement('div');
            videoContainer.className = 'video-container';

            const videoEmbed = document.createElement('div');
            videoEmbed.className = 'video-embed';

            if (!video.locked) {
                const iframe = document.createElement('iframe');
                iframe.src = video.embedUrl;
                iframe.allow = 'autoplay';
                videoEmbed.appendChild(iframe);
            } else {
                const lockOverlay = document.createElement('div');
                lockOverlay.className = 'video-lock-overlay';
                lockOverlay.innerHTML = `
                    <i class="bi bi-lock-fill video-lock-icon"></i>
                    <p>Video Locked</p>
                    ${video.id > 5 ? '<button class="btn btn-sm btn-warning mt-2 upgrade-btn">Upgrade to Unlock</button>' : ''}
                `;
                videoEmbed.appendChild(lockOverlay);

                // Add click event for upgrade button
                if (video.id > 5) {
                    lockOverlay.querySelector('.upgrade-btn').addEventListener('click', function() {
                        window.location.href = '#plans';
                    });
                }
            }

            const videoTitle = document.createElement('div');
            videoTitle.className = 'video-title';
            videoTitle.textContent = `${video.id}. ${video.title}`;

            videoContainer.appendChild(videoEmbed);
            videoContainer.appendChild(videoTitle);
            videoCol.appendChild(videoContainer);
            videoGrid.appendChild(videoCol);
        });

        // Timer functionality for next video unlock
        function updateUnlockTimer() {
            const now = Date.now();
            const timeSinceLastWatch = now - lastWatchedTime;
            const timeUntilUnlock = (24 * 60 * 60 * 1000) - timeSinceLastWatch;

            if (timeUntilUnlock > 0) {
                const hours = Math.floor(timeUntilUnlock / (1000 * 60 * 60));
                const minutes = Math.floor((timeUntilUnlock % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeUntilUnlock % (1000 * 60)) / 1000);

                document.getElementById('timerDisplay').textContent =
                    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            } else {
                document.getElementById('nextUnlockTimer').style.display = 'none';
            }
        }

        updateUnlockTimer();
        setInterval(updateUnlockTimer, 1000);
    });
</script>
</body>

</html>